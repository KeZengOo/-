<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nuoxin.virtual.rep.api.mybatis.DrugUserDoctorMapper">

	<insert id="saveDrugUserDoctors" keyProperty="drugUserDoctorId" useGeneratedKeys="true" parameterType="com.nuoxin.virtual.rep.api.entity.v2_5.DrugUserDoctorParams">
		INSERT INTO drug_user_doctor
		(doctor_id, doctor_name, doctor_email, 
		drug_user_id, drug_user_name, drug_user_email, prod_id, created_time)
		VALUES 
		<foreach collection ="list" item="index" separator =",">
        	(#{index.doctorId}, #{index.doctorName}, #{index.doctorEmail}, 
        	#{index.drugUserId}, #{index.drugUserName}, #{index.drugUserEmail},
        	#{index.prodId}, NOW())
    	</foreach >
	</insert>		
	
	<insert id="saveDrugUserDoctorsOneToOne">
		INSERT INTO drug_user_doctor_one_to_one 
		(drug_user_id, doctor_id, is_add_wechat,create_time)
		VALUES 
		<foreach collection ="list" item="index" separator =",">
        	(#{index.drugUserId}, #{index.doctorId}, #{index.isAddWechat}, NOW())
    	</foreach >
	</insert>
</mapper>